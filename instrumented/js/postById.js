function cov_2r61i3upi3(){var path="C:\\Users\\dalto\\Documents\\DVOPS_Projects\\Lab1Ex1\\dvops_project\\public\\js\\postById.js";var hash="7aeddb374af3c12e19b2d399ba082e27663c518e";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\dalto\\Documents\\DVOPS_Projects\\Lab1Ex1\\dvops_project\\public\\js\\postById.js",statementMap:{"0":{start:{line:2,column:4},end:{line:19,column:5}},"1":{start:{line:3,column:25},end:{line:9,column:10}},"2":{start:{line:11,column:8},end:{line:16,column:9}},"3":{start:{line:12,column:12},end:{line:12,column:35}},"4":{start:{line:14,column:12},end:{line:14,column:55}},"5":{start:{line:15,column:12},end:{line:15,column:74}},"6":{start:{line:18,column:8},end:{line:18,column:52}},"7":{start:{line:23,column:0},end:{line:42,column:3}},"8":{start:{line:24,column:4},end:{line:24,column:27}},"9":{start:{line:27,column:17},end:{line:27,column:58}},"10":{start:{line:28,column:18},end:{line:28,column:60}},"11":{start:{line:29,column:24},end:{line:29,column:72}},"12":{start:{line:32,column:4},end:{line:41,column:7}},"13":{start:{line:35,column:8},end:{line:35,column:30}},"14":{start:{line:38,column:8},end:{line:38,column:24}},"15":{start:{line:40,column:8},end:{line:40,column:51}}},fnMap:{"0":{name:"postItem",decl:{start:{line:1,column:15},end:{line:1,column:23}},loc:{start:{line:1,column:30},end:{line:20,column:1}},line:1},"1":{name:"(anonymous_1)",decl:{start:{line:23,column:69},end:{line:23,column:70}},loc:{start:{line:23,column:85},end:{line:42,column:1}},line:23},"2":{name:"(anonymous_2)",decl:{start:{line:32,column:48},end:{line:32,column:49}},loc:{start:{line:32,column:60},end:{line:39,column:5}},line:32},"3":{name:"(anonymous_3)",decl:{start:{line:39,column:13},end:{line:39,column:14}},loc:{start:{line:39,column:22},end:{line:41,column:5}},line:39}},branchMap:{"0":{loc:{start:{line:11,column:8},end:{line:16,column:9}},type:"if",locations:[{start:{line:11,column:8},end:{line:16,column:9}},{start:{line:13,column:15},end:{line:16,column:9}}],line:11}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0},f:{"0":0,"1":0,"2":0,"3":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"7aeddb374af3c12e19b2d399ba082e27663c518e"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2r61i3upi3=function(){return actualCoverage;};}return actualCoverage;}cov_2r61i3upi3();async function postItem(data){cov_2r61i3upi3().f[0]++;cov_2r61i3upi3().s[0]++;try{const response=(cov_2r61i3upi3().s[1]++,await fetch('/api/post',{// Updated URL to remove the ID parameter
method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(data)}));cov_2r61i3upi3().s[2]++;if(response.ok){cov_2r61i3upi3().b[0][0]++;cov_2r61i3upi3().s[3]++;return response.json();}else{cov_2r61i3upi3().b[0][1]++;cov_2r61i3upi3().s[4]++;console.error("Error response:",response);cov_2r61i3upi3().s[5]++;throw new Error("Unexpected response format or server error");}}catch(error){cov_2r61i3upi3().s[6]++;console.error("Error posting item:",error);}}cov_2r61i3upi3().s[7]++;document.getElementById("addProductForm").addEventListener("submit",function(event){cov_2r61i3upi3().f[1]++;cov_2r61i3upi3().s[8]++;event.preventDefault();// Prevent default form submission
// Collect the data from the form
const name=(cov_2r61i3upi3().s[9]++,document.getElementById("postName").value);const price=(cov_2r61i3upi3().s[10]++,document.getElementById("postPrice").value);const description=(cov_2r61i3upi3().s[11]++,document.getElementById("postDescription").value);// Now call postItem with the product details (no need to calculate ID here)
cov_2r61i3upi3().s[12]++;postItem({name,price,description}).then(response=>{cov_2r61i3upi3().f[2]++;cov_2r61i3upi3().s[13]++;// Close the modal after adding the product
closeAddProductForm();// Optionally refresh the product list
cov_2r61i3upi3().s[14]++;fetchProducts();}).catch(error=>{cov_2r61i3upi3().f[3]++;cov_2r61i3upi3().s[15]++;console.error("Error during post:",error);});});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMnI2MWkzdXBpMyIsImFjdHVhbENvdmVyYWdlIiwicG9zdEl0ZW0iLCJkYXRhIiwiZiIsInMiLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5Iiwib2siLCJiIiwianNvbiIsImNvbnNvbGUiLCJlcnJvciIsIkVycm9yIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwibmFtZSIsInZhbHVlIiwicHJpY2UiLCJkZXNjcmlwdGlvbiIsInRoZW4iLCJjbG9zZUFkZFByb2R1Y3RGb3JtIiwiZmV0Y2hQcm9kdWN0cyIsImNhdGNoIl0sInNvdXJjZXMiOlsicG9zdEJ5SWQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiYXN5bmMgZnVuY3Rpb24gcG9zdEl0ZW0oZGF0YSkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL3Bvc3QnLCB7ICAvLyBVcGRhdGVkIFVSTCB0byByZW1vdmUgdGhlIElEIHBhcmFtZXRlclxyXG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgcmVzcG9uc2U6XCIsIHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5leHBlY3RlZCByZXNwb25zZSBmb3JtYXQgb3Igc2VydmVyIGVycm9yXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHBvc3RpbmcgaXRlbTpcIiwgZXJyb3IpO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhZGRQcm9kdWN0Rm9ybVwiKS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOyAgLy8gUHJldmVudCBkZWZhdWx0IGZvcm0gc3VibWlzc2lvblxyXG5cclxuICAgIC8vIENvbGxlY3QgdGhlIGRhdGEgZnJvbSB0aGUgZm9ybVxyXG4gICAgY29uc3QgbmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicG9zdE5hbWVcIikudmFsdWU7XHJcbiAgICBjb25zdCBwcmljZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicG9zdFByaWNlXCIpLnZhbHVlO1xyXG4gICAgY29uc3QgZGVzY3JpcHRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBvc3REZXNjcmlwdGlvblwiKS52YWx1ZTtcclxuXHJcbiAgICAvLyBOb3cgY2FsbCBwb3N0SXRlbSB3aXRoIHRoZSBwcm9kdWN0IGRldGFpbHMgKG5vIG5lZWQgdG8gY2FsY3VsYXRlIElEIGhlcmUpXHJcbiAgICBwb3N0SXRlbSh7IG5hbWUsIHByaWNlLCBkZXNjcmlwdGlvbiB9KS50aGVuKHJlc3BvbnNlID0+IHtcclxuXHJcbiAgICAgICAgLy8gQ2xvc2UgdGhlIG1vZGFsIGFmdGVyIGFkZGluZyB0aGUgcHJvZHVjdFxyXG4gICAgICAgIGNsb3NlQWRkUHJvZHVjdEZvcm0oKTtcclxuXHJcbiAgICAgICAgLy8gT3B0aW9uYWxseSByZWZyZXNoIHRoZSBwcm9kdWN0IGxpc3RcclxuICAgICAgICBmZXRjaFByb2R1Y3RzKCk7XHJcbiAgICB9KS5jYXRjaChlcnJvciA9PiB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGR1cmluZyBwb3N0OlwiLCBlcnJvcik7XHJcbiAgICB9KTtcclxufSk7XHJcbiJdLCJtYXBwaW5ncyI6Ims2RUFlWTtBQUFBQSxjQUFBLFNBQUFBLENBQUEsU0FBQUMsY0FBQSxXQUFBQSxjQUFBLEVBQUFELGNBQUEsR0FmWixjQUFlLENBQUFFLFFBQVFBLENBQUNDLElBQUksQ0FBRSxDQUFBSCxjQUFBLEdBQUFJLENBQUEsTUFBQUosY0FBQSxHQUFBSyxDQUFBLE1BQzFCLEdBQUksQ0FDQSxLQUFNLENBQUFDLFFBQVEsRUFBQU4sY0FBQSxHQUFBSyxDQUFBLE1BQUcsS0FBTSxDQUFBRSxLQUFLLENBQUMsV0FBVyxDQUFFLENBQUc7QUFDekNDLE1BQU0sQ0FBRSxNQUFNLENBQ2RDLE9BQU8sQ0FBRSxDQUNMLGNBQWMsQ0FBRSxrQkFDcEIsQ0FBQyxDQUNEQyxJQUFJLENBQUVDLElBQUksQ0FBQ0MsU0FBUyxDQUFDVCxJQUFJLENBQzdCLENBQUMsQ0FBQyxFQUFDSCxjQUFBLEdBQUFLLENBQUEsTUFFSCxHQUFJQyxRQUFRLENBQUNPLEVBQUUsQ0FBRSxDQUFBYixjQUFBLEdBQUFjLENBQUEsU0FBQWQsY0FBQSxHQUFBSyxDQUFBLE1BQ2IsTUFBTyxDQUFBQyxRQUFRLENBQUNTLElBQUksQ0FBQyxDQUFDLENBQzFCLENBQUMsSUFBTSxDQUFBZixjQUFBLEdBQUFjLENBQUEsU0FBQWQsY0FBQSxHQUFBSyxDQUFBLE1BQ0hXLE9BQU8sQ0FBQ0MsS0FBSyxDQUFDLGlCQUFpQixDQUFFWCxRQUFRLENBQUMsQ0FBQ04sY0FBQSxHQUFBSyxDQUFBLE1BQzNDLEtBQU0sSUFBSSxDQUFBYSxLQUFLLENBQUMsNENBQTRDLENBQUMsQ0FDakUsQ0FDSixDQUFFLE1BQU9ELEtBQUssQ0FBRSxDQUFBakIsY0FBQSxHQUFBSyxDQUFBLE1BQ1pXLE9BQU8sQ0FBQ0MsS0FBSyxDQUFDLHFCQUFxQixDQUFFQSxLQUFLLENBQUMsQ0FDL0MsQ0FDSixDQUFDakIsY0FBQSxHQUFBSyxDQUFBLE1BR0RjLFFBQVEsQ0FBQ0MsY0FBYyxDQUFDLGdCQUFnQixDQUFDLENBQUNDLGdCQUFnQixDQUFDLFFBQVEsQ0FBRSxTQUFTQyxLQUFLLENBQUUsQ0FBQXRCLGNBQUEsR0FBQUksQ0FBQSxNQUFBSixjQUFBLEdBQUFLLENBQUEsTUFDakZpQixLQUFLLENBQUNDLGNBQWMsQ0FBQyxDQUFDLENBQUc7QUFFekI7QUFDQSxLQUFNLENBQUFDLElBQUksRUFBQXhCLGNBQUEsR0FBQUssQ0FBQSxNQUFHYyxRQUFRLENBQUNDLGNBQWMsQ0FBQyxVQUFVLENBQUMsQ0FBQ0ssS0FBSyxFQUN0RCxLQUFNLENBQUFDLEtBQUssRUFBQTFCLGNBQUEsR0FBQUssQ0FBQSxPQUFHYyxRQUFRLENBQUNDLGNBQWMsQ0FBQyxXQUFXLENBQUMsQ0FBQ0ssS0FBSyxFQUN4RCxLQUFNLENBQUFFLFdBQVcsRUFBQTNCLGNBQUEsR0FBQUssQ0FBQSxPQUFHYyxRQUFRLENBQUNDLGNBQWMsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDSyxLQUFLLEVBRXBFO0FBQUF6QixjQUFBLEdBQUFLLENBQUEsT0FDQUgsUUFBUSxDQUFDLENBQUVzQixJQUFJLENBQUVFLEtBQUssQ0FBRUMsV0FBWSxDQUFDLENBQUMsQ0FBQ0MsSUFBSSxDQUFDdEIsUUFBUSxFQUFJLENBQUFOLGNBQUEsR0FBQUksQ0FBQSxNQUFBSixjQUFBLEdBQUFLLENBQUEsT0FFcEQ7QUFDQXdCLG1CQUFtQixDQUFDLENBQUMsQ0FFckI7QUFBQTdCLGNBQUEsR0FBQUssQ0FBQSxPQUNBeUIsYUFBYSxDQUFDLENBQUMsQ0FDbkIsQ0FBQyxDQUFDLENBQUNDLEtBQUssQ0FBQ2QsS0FBSyxFQUFJLENBQUFqQixjQUFBLEdBQUFJLENBQUEsTUFBQUosY0FBQSxHQUFBSyxDQUFBLE9BQ2RXLE9BQU8sQ0FBQ0MsS0FBSyxDQUFDLG9CQUFvQixDQUFFQSxLQUFLLENBQUMsQ0FDOUMsQ0FBQyxDQUFDLENBQ04sQ0FBQyxDQUFDIiwiaWdub3JlTGlzdCI6W119