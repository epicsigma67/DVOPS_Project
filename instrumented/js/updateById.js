function cov_mxg8u865j(){var path="C:\\Users\\dalto\\Documents\\DVOPS_Projects\\Lab1Ex1\\DVOPS_Project\\public\\js\\updateById.js";var hash="06b4cbbcf5c828f074dd65060e2094405421ee1f";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\dalto\\Documents\\DVOPS_Projects\\Lab1Ex1\\DVOPS_Project\\public\\js\\updateById.js",statementMap:{"0":{start:{line:2,column:4},end:{line:16,column:5}},"1":{start:{line:3,column:25},end:{line:9,column:10}},"2":{start:{line:11,column:23},end:{line:11,column:44}},"3":{start:{line:12,column:8},end:{line:12,column:22}},"4":{start:{line:14,column:8},end:{line:14,column:53}},"5":{start:{line:15,column:8},end:{line:15,column:20}},"6":{start:{line:20,column:15},end:{line:20,column:61}},"7":{start:{line:21,column:17},end:{line:21,column:65}},"8":{start:{line:22,column:18},end:{line:22,column:67}},"9":{start:{line:23,column:24},end:{line:23,column:79}},"10":{start:{line:25,column:24},end:{line:25,column:52}},"11":{start:{line:28,column:4},end:{line:39,column:7}},"12":{start:{line:29,column:8},end:{line:36,column:9}},"13":{start:{line:31,column:12},end:{line:31,column:36}},"14":{start:{line:32,column:12},end:{line:32,column:35}},"15":{start:{line:33,column:12},end:{line:33,column:28}},"16":{start:{line:35,column:12},end:{line:35,column:44}},"17":{start:{line:38,column:8},end:{line:38,column:53}},"18":{start:{line:43,column:0},end:{line:46,column:3}},"19":{start:{line:44,column:4},end:{line:44,column:27}},"20":{start:{line:45,column:4},end:{line:45,column:20}}},fnMap:{"0":{name:"updateItem",decl:{start:{line:1,column:15},end:{line:1,column:25}},loc:{start:{line:1,column:36},end:{line:17,column:1}},line:1},"1":{name:"updateProduct",decl:{start:{line:19,column:9},end:{line:19,column:22}},loc:{start:{line:19,column:25},end:{line:40,column:1}},line:19},"2":{name:"(anonymous_2)",decl:{start:{line:28,column:37},end:{line:28,column:38}},loc:{start:{line:28,column:49},end:{line:37,column:5}},line:28},"3":{name:"(anonymous_3)",decl:{start:{line:37,column:13},end:{line:37,column:14}},loc:{start:{line:37,column:22},end:{line:39,column:5}},line:37},"4":{name:"(anonymous_4)",decl:{start:{line:43,column:70},end:{line:43,column:71}},loc:{start:{line:43,column:86},end:{line:46,column:1}},line:43}},branchMap:{"0":{loc:{start:{line:29,column:8},end:{line:36,column:9}},type:"if",locations:[{start:{line:29,column:8},end:{line:36,column:9}},{start:{line:34,column:15},end:{line:36,column:9}}],line:29},"1":{loc:{start:{line:29,column:12},end:{line:29,column:40}},type:"binary-expr",locations:[{start:{line:29,column:12},end:{line:29,column:20}},{start:{line:29,column:24},end:{line:29,column:40}}],line:29}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"06b4cbbcf5c828f074dd65060e2094405421ee1f"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_mxg8u865j=function(){return actualCoverage;};}return actualCoverage;}cov_mxg8u865j();async function updateItem(id,data){cov_mxg8u865j().f[0]++;cov_mxg8u865j().s[0]++;try{const response=(cov_mxg8u865j().s[1]++,await fetch(`/api/update/${id}`,{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify(data)}));const result=(cov_mxg8u865j().s[2]++,await response.json());cov_mxg8u865j().s[3]++;return result;}catch(error){cov_mxg8u865j().s[4]++;console.error('Error updating item:',error);cov_mxg8u865j().s[5]++;return null;}}function updateProduct(){cov_mxg8u865j().f[1]++;const id=(cov_mxg8u865j().s[6]++,document.getElementById("editProductId").value);const name=(cov_mxg8u865j().s[7]++,document.getElementById("editProductName").value);const price=(cov_mxg8u865j().s[8]++,document.getElementById("editProductPrice").value);const description=(cov_mxg8u865j().s[9]++,document.getElementById("editProductDescription").value);const updatedData=(cov_mxg8u865j().s[10]++,{name,price,description});// Call the function to update the product on the server
cov_mxg8u865j().s[11]++;updateItem(id,updatedData).then(response=>{cov_mxg8u865j().f[2]++;cov_mxg8u865j().s[12]++;if((cov_mxg8u865j().b[1][0]++,response)&&(cov_mxg8u865j().b[1][1]++,response.message)){cov_mxg8u865j().b[0][0]++;cov_mxg8u865j().s[13]++;// Success: Close modal and refresh the product list
alert(response.message);cov_mxg8u865j().s[14]++;closeEditProductForm();cov_mxg8u865j().s[15]++;fetchProducts();// Refresh the product list to show the updated product
}else{cov_mxg8u865j().b[0][1]++;cov_mxg8u865j().s[16]++;alert("Error updating product");}}).catch(error=>{cov_mxg8u865j().f[3]++;cov_mxg8u865j().s[17]++;console.error("Error during update:",error);});}// Ensure this function is triggered on the form submission
cov_mxg8u865j().s[18]++;document.getElementById("editProductForm").addEventListener("submit",function(event){cov_mxg8u865j().f[4]++;cov_mxg8u865j().s[19]++;event.preventDefault();// Prevent the default form submission
cov_mxg8u865j().s[20]++;updateProduct();// Call the update function
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfbXhnOHU4NjVqIiwiYWN0dWFsQ292ZXJhZ2UiLCJ1cGRhdGVJdGVtIiwiaWQiLCJkYXRhIiwiZiIsInMiLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwicmVzdWx0IiwianNvbiIsImVycm9yIiwiY29uc29sZSIsInVwZGF0ZVByb2R1Y3QiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwidmFsdWUiLCJuYW1lIiwicHJpY2UiLCJkZXNjcmlwdGlvbiIsInVwZGF0ZWREYXRhIiwidGhlbiIsImIiLCJtZXNzYWdlIiwiYWxlcnQiLCJjbG9zZUVkaXRQcm9kdWN0Rm9ybSIsImZldGNoUHJvZHVjdHMiLCJjYXRjaCIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsInByZXZlbnREZWZhdWx0Il0sInNvdXJjZXMiOlsidXBkYXRlQnlJZC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJhc3luYyBmdW5jdGlvbiB1cGRhdGVJdGVtKGlkLCBkYXRhKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvdXBkYXRlLyR7aWR9YCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSxcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgaXRlbTonLCBlcnJvcik7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZVByb2R1Y3QoKSB7XHJcbiAgICBjb25zdCBpZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZWRpdFByb2R1Y3RJZFwiKS52YWx1ZTtcclxuICAgIGNvbnN0IG5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVkaXRQcm9kdWN0TmFtZVwiKS52YWx1ZTtcclxuICAgIGNvbnN0IHByaWNlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlZGl0UHJvZHVjdFByaWNlXCIpLnZhbHVlO1xyXG4gICAgY29uc3QgZGVzY3JpcHRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVkaXRQcm9kdWN0RGVzY3JpcHRpb25cIikudmFsdWU7XHJcblxyXG4gICAgY29uc3QgdXBkYXRlZERhdGEgPSB7IG5hbWUsIHByaWNlLCBkZXNjcmlwdGlvbiB9O1xyXG5cclxuICAgIC8vIENhbGwgdGhlIGZ1bmN0aW9uIHRvIHVwZGF0ZSB0aGUgcHJvZHVjdCBvbiB0aGUgc2VydmVyXHJcbiAgICB1cGRhdGVJdGVtKGlkLCB1cGRhdGVkRGF0YSkudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgICAgaWYgKHJlc3BvbnNlICYmIHJlc3BvbnNlLm1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgLy8gU3VjY2VzczogQ2xvc2UgbW9kYWwgYW5kIHJlZnJlc2ggdGhlIHByb2R1Y3QgbGlzdFxyXG4gICAgICAgICAgICBhbGVydChyZXNwb25zZS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgY2xvc2VFZGl0UHJvZHVjdEZvcm0oKTtcclxuICAgICAgICAgICAgZmV0Y2hQcm9kdWN0cygpOyAgLy8gUmVmcmVzaCB0aGUgcHJvZHVjdCBsaXN0IHRvIHNob3cgdGhlIHVwZGF0ZWQgcHJvZHVjdFxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGFsZXJ0KFwiRXJyb3IgdXBkYXRpbmcgcHJvZHVjdFwiKTtcclxuICAgICAgICB9XHJcbiAgICB9KS5jYXRjaChlcnJvciA9PiB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGR1cmluZyB1cGRhdGU6XCIsIGVycm9yKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG4vLyBFbnN1cmUgdGhpcyBmdW5jdGlvbiBpcyB0cmlnZ2VyZWQgb24gdGhlIGZvcm0gc3VibWlzc2lvblxyXG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVkaXRQcm9kdWN0Rm9ybVwiKS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOyAgLy8gUHJldmVudCB0aGUgZGVmYXVsdCBmb3JtIHN1Ym1pc3Npb25cclxuICAgIHVwZGF0ZVByb2R1Y3QoKTsgIC8vIENhbGwgdGhlIHVwZGF0ZSBmdW5jdGlvblxyXG59KTsiXSwibWFwcGluZ3MiOiJxbEdBZVk7QUFBQUEsYUFBQSxTQUFBQSxDQUFBLFNBQUFDLGNBQUEsV0FBQUEsY0FBQSxFQUFBRCxhQUFBLEdBZlosY0FBZSxDQUFBRSxVQUFVQSxDQUFDQyxFQUFFLENBQUVDLElBQUksQ0FBRSxDQUFBSixhQUFBLEdBQUFLLENBQUEsTUFBQUwsYUFBQSxHQUFBTSxDQUFBLE1BQ2hDLEdBQUksQ0FDQSxLQUFNLENBQUFDLFFBQVEsRUFBQVAsYUFBQSxHQUFBTSxDQUFBLE1BQUcsS0FBTSxDQUFBRSxLQUFLLENBQUMsZUFBZUwsRUFBRSxFQUFFLENBQUUsQ0FDOUNNLE1BQU0sQ0FBRSxLQUFLLENBQ2JDLE9BQU8sQ0FBRSxDQUNMLGNBQWMsQ0FBRSxrQkFDcEIsQ0FBQyxDQUNEQyxJQUFJLENBQUVDLElBQUksQ0FBQ0MsU0FBUyxDQUFDVCxJQUFJLENBQzdCLENBQUMsQ0FBQyxFQUVGLEtBQU0sQ0FBQVUsTUFBTSxFQUFBZCxhQUFBLEdBQUFNLENBQUEsTUFBRyxLQUFNLENBQUFDLFFBQVEsQ0FBQ1Es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